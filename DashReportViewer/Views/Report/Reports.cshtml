@model DashReportViewer.Models.Reporting.ReportViewModel
@{
    ViewData["Title"] = "Reports";
}

<h1>Reports</h1>

<div class="wrapper-content">
    <div class="ibox-content">
        <h1 class="headline m-top-md text-center">
            <span>@Html.Raw(Model.ReportName)</span>

            @if (!String.IsNullOrWhiteSpace(Model.ReportDescription))
            {
                <br />
                <span style="font-size:16px;">@(Model.ReportDescription)</span>
            }
        </h1>

        @if (Model.HasData)
        {
            <table class="table table-striped table-hover" id="dataTable">
                <thead>
                    <tr>
                        @if (@Model.Columns != null)
                        {
                            foreach (var column in Model.Columns)
                            {
                                <th>@column</th>
                            }
                        }
                    </tr>
                </thead>
                <tbody>

                    @if (Model.Data != null)
                    {
                        foreach (var row in Model.Data)
                        {
                            <tr>
                                @foreach (var column in row)
                                {
                                    <td>@Html.Raw(column)</td>
                                }
                            </tr>
                        }
                    }
                    else
                    {
                        <text>No Results</text>
                    }

                </tbody>
            </table>
        }
    </div>
</div>


<div>
    Date time picker
    <div id="reportrange" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc; width: 100%">
        <i class="fa fa-calendar"></i>&nbsp;
        <span></span> <i class="fa fa-caret-down"></i>
    </div>

</div>



@*<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>*@
@section Scripts
{
<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

@*<script>
    $('input[name="dates"]').daterangepicker();
</script>*@

<script type="text/javascript">
    $(function () {

        var start = moment().subtract(29, 'days');
        var end = moment();

        function cb(start, end) {
            $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
        }

        $('#reportrange').daterangepicker({
            startDate: start,
            endDate: end,
            ranges: {
                'Today': [moment(), moment()],
                'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                'This Month': [moment().startOf('month'), moment().endOf('month')],
                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
            }
        }, cb);

        cb(start, end);

    });
</script>
}